---
import { getRelativeLocaleUrl } from 'astro:i18n';

import { getLangFromUrl, useTranslations } from '~/i18n/utils';

import LangToggle from '../common/lang-toggle.astro';
import ThemeToggle from '../common/theme-toggle.astro';
import NavLink from './link.astro';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);
---

<header
  class="sticky top-0 z-50 flex w-full justify-center bg-transparent px-5 py-2 backdrop-blur-2xl md:px-0"
>
  <nav class="flex w-full max-w-prose items-center justify-between">
    <ul class="-ml-3 flex flex-1 gap-2">
      <NavLink title={t('nav.home')} href={getRelativeLocaleUrl(lang, '/')} />
      <NavLink
        title={t('nav.projects')}
        href={getRelativeLocaleUrl(lang, '/projects')}
      />
    </ul>
    <ul class="flex items-center gap-2">
      <ThemeToggle />
      <LangToggle />
    </ul>
  </nav>
</header>
