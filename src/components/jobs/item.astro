---
import type { Job } from '~/types/job';

import BriefcaseBusiness from '../common/icons/briefcase-business.astro';
import PulseDot from '../common/pulse-dot.astro';

interface Props {
  data: Job;
}

const { data } = Astro.props;
---

<li class="ml-5">
  <span
    class="absolute -left-5 flex size-10 items-center justify-center rounded-full border border-card bg-background/20 backdrop-blur-md"
  >
    <BriefcaseBusiness class="size-4 text-foreground" />
  </span>
  <div
    class="ml-2 space-y-3 rounded-md border border-card bg-background/20 p-4 backdrop-blur-md"
  >
    <div class="flex w-full items-start justify-between gap-2 md:items-center">
      <div class="flex flex-1 flex-col whitespace-nowrap text-sm">
        <div class="flex items-center gap-1">
          <b>{data.company}</b>
          {data.current && <PulseDot />}
        </div>
        <span class="text-xs">[{data.date}]</span>
      </div>
      <span class="text-end text-xs font-normal text-dimmed">
        {data.role}
      </span>
    </div>
    <div class="text-sm font-normal text-dimmed">
      {data.description}
    </div>
  </div>
</li>
