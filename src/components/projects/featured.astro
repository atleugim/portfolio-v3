---
import { getProjects } from "../../queries/projects";
import ProjectCardSkeleton from "./item-skeleton.astro";
import ProjectCard from "./item.astro";

const data = await getProjects();
---

<div class='flex flex-col space-y-4'>
  {!data
    ? [1, 2, 3, 5, 6].map((i) => <ProjectCardSkeleton key={i} />)
    : data
      .filter((project) => project.featured)
      .map((project) => {
        return <ProjectCard data={project} />;
      })}
</div>